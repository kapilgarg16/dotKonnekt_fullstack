<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/bootstrap.css">
  <script src="./js/jquery.min.js"></script>
  <script src="./js/bootstrap.min.js"></script>
  <title>html form</title>
</head>

<body>
  <div class="subscribe-container">
    <form id="apiForm">
      <div class="form-outline w-25">
        <label for="exampleFormControlSelect1"><b>Select Weather</b></label>
        <select name="type" class="form-control" id="exampleFormControlSelect1">
          <option>Select type</option>
          <option value="current">current</option>
          <option value="forecast">forecast</option>
        </select>
      </div>
      &nbsp;
      <div class="form-outline w-25">
        <label for="exampleFormControlInput1"><b>City</b></label>
        <input type="text" class="form-control" id="city" required style="margin-bottom:15px; margin-right:15px;"
          name="city">
      </div>
      &nbsp;
      <input type="submit" class="form-outline w-20 btn" style="color:rgb(222, 0, 0)" value="submit">
  </div>
  </form>
</body>
&nbsp;
&nbsp;

<div id="datatb">

</div>
<script>
  $("#apiForm").submit(function (e) {
    e.preventDefault(); // avoid to execute the actual submit of the form.
    var form = $(this);
    let url1 = "http://localhost:8886/weather?" + (form.serialize()).toString();
    console.log(url1);
    $.ajax({
      type: "GET",
      url: url1,
      // data: form.serialize(), // serializes the form's elements.
      success: function (data) {
        alert((JSON.stringify(data))); // show response from the php script.
        let markup = `<p>${JSON.stringify(data)}</p>`;
        document.getElementById('datatb').innerHTML = markup;
      }
    });

  });

</script>

</html>